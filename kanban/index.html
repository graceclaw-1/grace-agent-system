<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Grace Command Center — Cyberpunk Kanban Board for the Grace Agent System">
  <meta property="og:title" content="GRACE COMMAND CENTER">
  <meta property="og:description" content="Synthwave 3D Kanban Board for Grace & her 8 AI agents">
  <meta property="og:image" content="https://graceclaw-1.github.io/grace-agent-system/kanban/preview.png">
  <title>GRACE COMMAND CENTER ⚡</title>

  <!-- Fonts preload -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Three.js CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>

  <!-- Our styles -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ============================================================
     BOOT LOADER
     ============================================================ -->
<div id="boot-loader">
  <div class="boot-logo">GRACE <span>COMMAND CENTER</span></div>
  <div class="boot-bar-wrap">
    <div class="boot-bar"></div>
  </div>
  <div id="loader-text">INITIALIZING NEURAL LINK</div>
</div>

<!-- ============================================================
     SCANLINE OVERLAY
     ============================================================ -->
<div id="scanline" aria-hidden="true"></div>

<!-- ============================================================
     MAIN APP
     ============================================================ -->
<div id="app">

  <!-- ---- NAVBAR ---- -->
  <nav id="navbar">
    <div class="nav-brand">
      <div class="nav-logo">GRACE <span class="accent">COMMAND</span> CENTER</div>
      <div class="nav-badge">v2.0 ◈ ONLINE</div>
    </div>

    <div class="nav-center">
      <div class="nav-agents">
        <span id="agent-count">8</span> AGENTS ACTIVE
      </div>

      <!-- View Toggle -->
      <div class="view-toggle" role="group" aria-label="View mode">
        <button id="toggle-3d" class="active" title="3D Holographic View">⬡ 3D</button>
        <button id="toggle-2d" title="2D Flat View">☰ 2D</button>
      </div>
    </div>

    <div class="nav-right">
      <span id="clock">00:00:00 UTC</span>
      <button class="cyber-btn" id="add-task-btn" title="Add New Task">+ TASK</button>
      <button class="cyber-btn cyber-btn-pink" id="reset-view-btn" title="Reset Camera">◎ RESET</button>
      <button class="cyber-btn-sm" id="reset-data-btn" title="Reset to seed data">⟳ SEED</button>
    </div>
  </nav>

  <!-- ---- MAIN CONTENT ---- -->
  <main id="main-content">

    <!-- 3D Scene -->
    <div id="scene-3d">
      <canvas id="kanban-canvas"></canvas>

      <!-- Controls Hint -->
      <div id="controls-hint" aria-label="Controls">
        <div class="controls-hint-line">DRAG to orbit camera</div>
        <div class="controls-hint-line">SCROLL to zoom</div>
        <div class="controls-hint-line">CLICK agent panel to expand</div>
      </div>
    </div>

    <!-- 2D Flat View -->
    <div id="flat-view-wrapper" role="main" aria-label="2D Kanban Board">
      <div id="flat-view"></div>
    </div>

  </main>

  <!-- ---- HUD FOOTER ---- -->
  <footer id="hud" role="status" aria-label="Task Statistics">
    <div class="hud-section">
      <div class="hud-stat">
        <div class="hud-stat-num" id="hud-total" style="color: #e0e0ff">0</div>
        <div class="hud-stat-label">TOTAL</div>
      </div>
      <div class="hud-divider"></div>
      <div class="hud-stat">
        <div class="hud-stat-num" id="hud-backlog" style="color: #818cf8">0</div>
        <div class="hud-stat-label">BACKLOG</div>
      </div>
      <div class="hud-divider"></div>
      <div class="hud-stat">
        <div class="hud-stat-num" id="hud-inprogress" style="color: #f472b6">0</div>
        <div class="hud-stat-label">IN PROG</div>
      </div>
      <div class="hud-divider"></div>
      <div class="hud-stat">
        <div class="hud-stat-num" id="hud-review" style="color: #f7c948">0</div>
        <div class="hud-stat-label">REVIEW</div>
      </div>
      <div class="hud-divider"></div>
      <div class="hud-stat">
        <div class="hud-stat-num" id="hud-done" style="color: #4ade80">0</div>
        <div class="hud-stat-label">DONE</div>
      </div>
    </div>

    <div class="hud-progress">
      <div class="hud-progress-label">
        <span>MISSION PROGRESS</span>
        <span id="hud-pct">0%</span>
      </div>
      <div class="hud-progress-bar">
        <div class="hud-progress-fill" id="hud-progress-fill" style="width: 0%"></div>
      </div>
    </div>

    <div class="hud-section">
      <div style="font-family: var(--font-mono); font-size: 9px; color: var(--text-dim); letter-spacing: 0.06em; line-height: 1.6; text-align: right;">
        <div>◈ GRACE AGENT SYSTEM</div>
        <div style="color: #00fff0; opacity: 0.6;">POWERED BY AI</div>
      </div>
    </div>
  </footer>

</div><!-- /#app -->

<!-- ============================================================
     AGENT SIDEBAR
     ============================================================ -->
<aside id="agent-sidebar" aria-label="Agent Details"></aside>

<!-- ============================================================
     TASK MODAL
     ============================================================ -->
<div id="task-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
  <div class="modal-box">
    <div class="modal-header">
      <h2 id="modal-title">◈ NEW TASK</h2>
      <button class="modal-close" id="modal-cancel" aria-label="Close modal">✕</button>
    </div>

    <form id="task-form" novalidate>
      <div class="modal-body">

        <div class="form-group">
          <label for="task-title">TASK TITLE <span style="color: var(--red)">*</span></label>
          <input
            id="task-title"
            type="text"
            class="cyber-input"
            placeholder="Enter task title..."
            maxlength="120"
            autocomplete="off"
            required
          >
        </div>

        <div class="form-group">
          <label for="task-desc">DESCRIPTION</label>
          <textarea
            id="task-desc"
            class="cyber-textarea"
            placeholder="Describe the task..."
            maxlength="500"
            rows="3"
          ></textarea>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="task-agent">ASSIGNED AGENT</label>
            <select id="task-agent" class="cyber-select"></select>
          </div>
          <div class="form-group">
            <label for="task-column">COLUMN</label>
            <select id="task-column" class="cyber-select"></select>
          </div>
        </div>

        <div class="form-group">
          <label for="task-priority">PRIORITY</label>
          <select id="task-priority" class="cyber-select"></select>
        </div>

      </div>

      <div class="modal-footer">
        <button type="button" class="cyber-btn-sm" id="modal-cancel-btn" onclick="document.getElementById('task-modal').classList.remove('active')">CANCEL</button>
        <button type="submit" class="cyber-btn">SUBMIT TASK</button>
      </div>
    </form>
  </div>
</div>

<!-- ============================================================
     SCRIPTS (order matters)
     ============================================================ -->
<script src="agents.js"></script>
<script src="tasks.js"></script>
<script src="scene.js"></script>
<script src="ui.js"></script>
<script src="app.js"></script>

</body>
</html>
