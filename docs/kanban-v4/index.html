<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grace Command Center ‚Äî Kanban v4</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Boot Loader -->
  <div id="boot-loader">
    <div class="boot-logo">GRACE<span>OS</span></div>
    <div class="boot-tagline">Generative Reasoning &amp; Adaptive Collaboration Engine</div>
    <div class="boot-bar-wrap"><div class="boot-bar"></div></div>
    <div id="loader-text">INITIALIZING COMMAND CENTER...</div>
  </div>

  <!-- Main App -->
  <div id="app">
    <!-- Scanline Effect -->
    <div id="scanline"></div>

    <!-- Retro Scan Line -->
    <div id="retro-scan"></div>

    <!-- Navbar -->
    <nav id="navbar">
      <div class="nav-brand">
        <div class="nav-logo">GRACE<span>OS</span></div>
        <div class="nav-badge">v4.0</div>
      </div>
      <div class="nav-center">
        <div class="nav-agents">AGENTS: <span id="agent-count">0</span></div>
        <div class="view-toggle">
          <button id="toggle-3d">3D</button>
          <button id="toggle-2d" class="active">2D</button>
        </div>
      </div>
      <div class="nav-right">
        <button id="reset-view-btn" class="cyber-btn-sm">RESET VIEW</button>
        <button id="add-task-btn" class="cyber-btn cyber-btn-pink">+ NEW TASK</button>
        <div id="clock">00:00:00 UTC</div>
      </div>
    </nav>

    <!-- Main Content -->
    <div id="main-content">
      <!-- 3D Scene -->
      <div id="scene-3d">
        <canvas id="kanban-canvas"></canvas>
        <div id="agent-labels"></div>
        <div id="controls-hint">
          <div class="controls-hint-line">DRAG to rotate</div>
          <div class="controls-hint-line">SCROLL to zoom</div>
          <div class="controls-hint-line">CLICK agent to focus</div>
        </div>
      </div>

      <!-- 2D Agile Board -->
      <div id="flat-view-wrapper" class="hidden">
        <div id="kanban-board">
          <div class="board-lane board-lane-headers">
            <div class="lane-header">AGENTS</div>
            <div class="column-headers">
              <div class="col-header" data-col="backlog">
                <div class="col-icon">üì•</div>
                <div class="col-name">BACKLOG</div>
              </div>
              <div class="col-header" data-col="inprogress">
                <div class="col-icon">‚ö°</div>
                <div class="col-name">IN PROGRESS</div>
              </div>
              <div class="col-header" data-col="review">
                <div class="col-icon">üîç</div>
                <div class="col-name">REVIEW</div>
              </div>
              <div class="col-header" data-col="done">
                <div class="col-icon">‚úÖ</div>
                <div class="col-name">DONE</div>
              </div>
            </div>
          </div>
          <div id="kanban-lanes"></div>
        </div>
      </div>

      <!-- Agent Sidebar -->
      <div id="agent-sidebar"></div>
    </div>

    <!-- HUD Footer -->
    <div id="hud">
      <div class="hud-section">
        <div class="hud-stat">
          <div id="hud-total" class="hud-stat-num">0</div>
          <div class="hud-stat-label">TOTAL</div>
        </div>
        <div class="hud-divider"></div>
        <div class="hud-stat">
          <div id="hud-backlog" class="hud-stat-num">0</div>
          <div class="hud-stat-label">BACKLOG</div>
        </div>
        <div class="hud-stat">
          <div id="hud-inprogress" class="hud-stat-num">0</div>
          <div class="hud-stat-label">IN PROGRESS</div>
        </div>
        <div class="hud-stat">
          <div id="hud-review" class="hud-stat-num">0</div>
          <div class="hud-stat-label">REVIEW</div>
        </div>
        <div class="hud-stat">
          <div id="hud-done" class="hud-stat-num">0</div>
          <div class="hud-stat-label">DONE</div>
        </div>
      </div>
      <div class="hud-divider"></div>
      <div class="hud-progress">
        <div class="hud-progress-label">
          <span>PROGRESS</span>
          <span id="hud-pct">0%</span>
        </div>
        <div class="hud-progress-bar">
          <div id="hud-progress-fill" class="hud-progress-fill" style="width: 0%"></div>
        </div>
      </div>
      <div class="hud-divider"></div>
      <div class="hud-section">
        <div class="hud-stat">
          <div id="hud-total-hours" class="hud-stat-num">0h</div>
          <div class="hud-stat-label">TOTAL HRS</div>
        </div>
        <div class="hud-stat">
          <div id="hud-total-cost" class="hud-stat-num">$0.00</div>
          <div class="hud-stat-label">TOTAL COST</div>
        </div>
      </div>
    </div>

    <!-- Task Modal -->
    <div id="task-modal">
      <div class="modal-box">
        <div class="modal-header">
          <h2 id="modal-title">‚óà NEW TASK</h2>
          <button id="modal-close" class="modal-close">‚úï</button>
        </div>
        <form id="task-form">
          <div class="modal-body">
            <div class="form-row">
              <div class="form-group">
                <label for="task-agent">AGENT</label>
                <select id="task-agent" class="cyber-select" required></select>
              </div>
              <div class="form-group">
                <label for="task-priority">PRIORITY</label>
                <select id="task-priority" class="cyber-select" required></select>
              </div>
              <div class="form-group">
                <label for="task-column">STATUS</label>
                <select id="task-column" class="cyber-select" required></select>
              </div>
            </div>
            <div class="form-group">
              <label for="task-title">TITLE</label>
              <input type="text" id="task-title" class="cyber-input" required>
            </div>
            <div class="form-group">
              <label for="task-desc">DESCRIPTION</label>
              <textarea id="task-desc" class="cyber-textarea" rows="3"></textarea>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="task-time-est">ESTIMATED HOURS</label>
                <input type="number" id="task-time-est" class="cyber-input" min="0" step="0.5">
              </div>
              <div class="form-group">
                <label for="task-time-spent">HOURS SPENT</label>
                <input type="number" id="task-time-spent" class="cyber-input" min="0" step="0.5">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="task-model">MODEL</label>
                <select id="task-model" class="cyber-select">
                  <option value="claude-sonnet-4.6">claude-sonnet-4.6</option>
                  <option value="gpt-4o">gpt-4o</option>
                  <option value="gemini-2.0">gemini-2.0</option>
                </select>
              </div>
              <div class="form-group">
                <label for="task-tokens">EST. TOKEN COST</label>
                <input type="number" id="task-tokens" class="cyber-input" min="0">
              </div>
              <div class="form-group">
                <label for="task-cost">EST. $ COST</label>
                <input type="number" id="task-cost" class="cyber-input" min="0" step="0.01">
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" id="modal-cancel" class="cyber-btn">CANCEL</button>
            <button type="submit" class="cyber-btn cyber-btn-pink">SAVE</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>

  <!-- Application -->
  <script src="agents.js"></script>
  <script src="tasks.js"></script>
  <script src="scene.js"></script>
  <script src="ui.js"></script>
  <script src="app.js"></script>
</body>
</html>